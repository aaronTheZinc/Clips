{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, Fragment, memo } from 'react';\nimport { CheckBox } from '../CheckBox';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { TableRow } from '../TableRow';\nimport { TableCell } from '../TableCell';\nimport { Keyboard } from '../Keyboard';\nimport { ExpanderCell } from './ExpanderCell';\nimport { Cell } from './Cell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { datumValue } from './buildState';\nvar Row = /*#__PURE__*/memo(function (_ref) {\n  var primaryValue = _ref.primaryValue,\n      index = _ref.index,\n      rowRef = _ref.rowRef,\n      size = _ref.size,\n      active = _ref.active,\n      onClickRow = _ref.onClickRow,\n      datum = _ref.datum,\n      setActive = _ref.setActive,\n      selected = _ref.selected,\n      onSelect = _ref.onSelect,\n      background = _ref.background,\n      isSelected = _ref.isSelected,\n      rowDetails = _ref.rowDetails,\n      isRowExpanded = _ref.isRowExpanded,\n      setRowExpand = _ref.setRowExpand,\n      rowExpand = _ref.rowExpand,\n      columns = _ref.columns,\n      pinnedBackground = _ref.pinnedBackground,\n      border = _ref.border,\n      pad = _ref.pad,\n      primaryProperty = _ref.primaryProperty,\n      rowProps = _ref.rowProps,\n      data = _ref.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    ref: rowRef,\n    size: size,\n    active: active,\n    onClick: onClickRow ? function (event) {\n      // extract from React's synthetic event pool\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = datum;\n      adjustedEvent.index = index;\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onMouseEnter: onClickRow ? function () {\n      return setActive(index);\n    } : undefined,\n    onMouseLeave: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined,\n    onFocus: onClickRow ? function () {\n      return setActive(index);\n    } : undefined,\n    onBlur: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n    background: background\n  }, /*#__PURE__*/React.createElement(CheckBox, {\n    a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n    checked: isSelected,\n    disabled: !onSelect,\n    onChange: function onChange() {\n      if (isSelected) {\n        onSelect(selected.filter(function (s) {\n          return s !== primaryValue;\n        }));\n      } else onSelect([].concat(selected, [primaryValue]));\n    }\n  })), rowDetails && /*#__PURE__*/React.createElement(ExpanderCell, {\n    context: isRowExpanded ? 'groupHeader' : 'body',\n    expanded: isRowExpanded,\n    onToggle: function onToggle() {\n      if (isRowExpanded) {\n        setRowExpand(rowExpand.filter(function (s) {\n          return s !== index;\n        }));\n      } else {\n        setRowExpand([].concat(rowExpand, [index]));\n      }\n    }\n  }), columns.map(function (column) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      key: column.property,\n      background: column.pin ? pinnedBackground : background,\n      border: border,\n      context: \"body\",\n      column: column,\n      datum: datum,\n      index: index,\n      pad: pad,\n      primaryProperty: primaryProperty,\n      rowProp: rowProps && rowProps[primaryValue],\n      scope: column.primary || column.property === primaryProperty ? 'row' : undefined\n    });\n  })), rowDetails && isRowExpanded && /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    key: index.toString() + \"_expand\"\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, null), /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: columns.length + 1\n  }, rowDetails(data[index]))));\n});\nvar Body = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var background = _ref2.background,\n      border = _ref2.border,\n      columns = _ref2.columns,\n      data = _ref2.data,\n      onMore = _ref2.onMore,\n      replace = _ref2.replace,\n      onClickRow = _ref2.onClickRow,\n      onSelect = _ref2.onSelect,\n      pad = _ref2.pad,\n      pinnedBackground = _ref2.pinnedBackground,\n      primaryProperty = _ref2.primaryProperty,\n      rowProps = _ref2.rowProps,\n      selected = _ref2.selected,\n      rowDetails = _ref2.rowDetails,\n      show = _ref2.show,\n      size = _ref2.size,\n      step = _ref2.step,\n      rowExpand = _ref2.rowExpand,\n      setRowExpand = _ref2.setRowExpand,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"background\", \"border\", \"columns\", \"data\", \"onMore\", \"replace\", \"onClickRow\", \"onSelect\", \"pad\", \"pinnedBackground\", \"primaryProperty\", \"rowProps\", \"selected\", \"rowDetails\", \"show\", \"size\", \"step\", \"rowExpand\", \"setRowExpand\"]);\n\n  var _React$useState = React.useState(),\n      active = _React$useState[0],\n      setActive = _React$useState[1];\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onClickRow && active >= 0 ? function (event) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = data[active];\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onUp: onClickRow && active ? function () {\n      setActive(active - 1);\n    } : undefined,\n    onDown: onClickRow && data.length ? function () {\n      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size,\n    tabIndex: onClickRow ? 0 : undefined\n  }, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: data,\n    onMore: onMore,\n    replace: replace,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, marker));\n    },\n    scrollableAncestor: \"window\",\n    show: show,\n    step: step\n  }, function (datum, index, rowRef) {\n    var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n    var isSelected = selected && selected.includes(primaryValue);\n    var isRowExpanded = rowExpand && rowExpand.includes(index);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: primaryValue || index,\n      rowRef: rowRef,\n      primaryValue: primaryValue,\n      isSelected: isSelected,\n      isRowExpanded: isRowExpanded,\n      index: index,\n      size: size,\n      active: active >= 0 ? active === index : undefined,\n      onClickRow: onClickRow,\n      datum: datum,\n      setActive: setActive,\n      selected: selected,\n      onSelect: onSelect,\n      background: background,\n      rowDetails: rowDetails,\n      setRowExpand: setRowExpand,\n      rowExpand: rowExpand,\n      columns: columns,\n      pinnedBackground: pinnedBackground,\n      border: border,\n      pad: pad,\n      primaryProperty: primaryProperty,\n      rowProps: rowProps,\n      data: data\n    });\n  })));\n});\nexport { Body };","map":{"version":3,"sources":["C:/Users/aaron/Documents/Clips/Clips/Reactapp/node_modules/grommet/es6/components/DataTable/Body.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","Fragment","memo","CheckBox","InfiniteScroll","TableRow","TableCell","Keyboard","ExpanderCell","Cell","StyledDataTableBody","StyledDataTableRow","datumValue","Row","_ref","primaryValue","index","rowRef","size","active","onClickRow","datum","setActive","selected","onSelect","background","isSelected","rowDetails","isRowExpanded","setRowExpand","rowExpand","columns","pinnedBackground","border","pad","primaryProperty","rowProps","data","createElement","ref","onClick","event","persist","adjustedEvent","undefined","onMouseEnter","onMouseLeave","onFocus","onBlur","a11yTitle","checked","disabled","onChange","filter","s","concat","context","expanded","onToggle","map","column","property","pin","rowProp","scope","primary","toString","colSpan","Body","_ref2","onMore","replace","show","step","rest","_React$useState","useState","onEnter","onUp","onDown","Math","min","tabIndex","items","renderMarker","marker","scrollableAncestor","includes"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, Fragment, memo } from 'react';\nimport { CheckBox } from '../CheckBox';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { TableRow } from '../TableRow';\nimport { TableCell } from '../TableCell';\nimport { Keyboard } from '../Keyboard';\nimport { ExpanderCell } from './ExpanderCell';\nimport { Cell } from './Cell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { datumValue } from './buildState';\nvar Row = /*#__PURE__*/memo(function (_ref) {\n  var primaryValue = _ref.primaryValue,\n      index = _ref.index,\n      rowRef = _ref.rowRef,\n      size = _ref.size,\n      active = _ref.active,\n      onClickRow = _ref.onClickRow,\n      datum = _ref.datum,\n      setActive = _ref.setActive,\n      selected = _ref.selected,\n      onSelect = _ref.onSelect,\n      background = _ref.background,\n      isSelected = _ref.isSelected,\n      rowDetails = _ref.rowDetails,\n      isRowExpanded = _ref.isRowExpanded,\n      setRowExpand = _ref.setRowExpand,\n      rowExpand = _ref.rowExpand,\n      columns = _ref.columns,\n      pinnedBackground = _ref.pinnedBackground,\n      border = _ref.border,\n      pad = _ref.pad,\n      primaryProperty = _ref.primaryProperty,\n      rowProps = _ref.rowProps,\n      data = _ref.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    ref: rowRef,\n    size: size,\n    active: active,\n    onClick: onClickRow ? function (event) {\n      // extract from React's synthetic event pool\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = datum;\n      adjustedEvent.index = index;\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onMouseEnter: onClickRow ? function () {\n      return setActive(index);\n    } : undefined,\n    onMouseLeave: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined,\n    onFocus: onClickRow ? function () {\n      return setActive(index);\n    } : undefined,\n    onBlur: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n    background: background\n  }, /*#__PURE__*/React.createElement(CheckBox, {\n    a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n    checked: isSelected,\n    disabled: !onSelect,\n    onChange: function onChange() {\n      if (isSelected) {\n        onSelect(selected.filter(function (s) {\n          return s !== primaryValue;\n        }));\n      } else onSelect([].concat(selected, [primaryValue]));\n    }\n  })), rowDetails && /*#__PURE__*/React.createElement(ExpanderCell, {\n    context: isRowExpanded ? 'groupHeader' : 'body',\n    expanded: isRowExpanded,\n    onToggle: function onToggle() {\n      if (isRowExpanded) {\n        setRowExpand(rowExpand.filter(function (s) {\n          return s !== index;\n        }));\n      } else {\n        setRowExpand([].concat(rowExpand, [index]));\n      }\n    }\n  }), columns.map(function (column) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      key: column.property,\n      background: column.pin ? pinnedBackground : background,\n      border: border,\n      context: \"body\",\n      column: column,\n      datum: datum,\n      index: index,\n      pad: pad,\n      primaryProperty: primaryProperty,\n      rowProp: rowProps && rowProps[primaryValue],\n      scope: column.primary || column.property === primaryProperty ? 'row' : undefined\n    });\n  })), rowDetails && isRowExpanded && /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    key: index.toString() + \"_expand\"\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, null), /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: columns.length + 1\n  }, rowDetails(data[index]))));\n});\nvar Body = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var background = _ref2.background,\n      border = _ref2.border,\n      columns = _ref2.columns,\n      data = _ref2.data,\n      onMore = _ref2.onMore,\n      replace = _ref2.replace,\n      onClickRow = _ref2.onClickRow,\n      onSelect = _ref2.onSelect,\n      pad = _ref2.pad,\n      pinnedBackground = _ref2.pinnedBackground,\n      primaryProperty = _ref2.primaryProperty,\n      rowProps = _ref2.rowProps,\n      selected = _ref2.selected,\n      rowDetails = _ref2.rowDetails,\n      show = _ref2.show,\n      size = _ref2.size,\n      step = _ref2.step,\n      rowExpand = _ref2.rowExpand,\n      setRowExpand = _ref2.setRowExpand,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"background\", \"border\", \"columns\", \"data\", \"onMore\", \"replace\", \"onClickRow\", \"onSelect\", \"pad\", \"pinnedBackground\", \"primaryProperty\", \"rowProps\", \"selected\", \"rowDetails\", \"show\", \"size\", \"step\", \"rowExpand\", \"setRowExpand\"]);\n\n  var _React$useState = React.useState(),\n      active = _React$useState[0],\n      setActive = _React$useState[1];\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onClickRow && active >= 0 ? function (event) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = data[active];\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onUp: onClickRow && active ? function () {\n      setActive(active - 1);\n    } : undefined,\n    onDown: onClickRow && data.length ? function () {\n      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size,\n    tabIndex: onClickRow ? 0 : undefined\n  }, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: data,\n    onMore: onMore,\n    replace: replace,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, marker));\n    },\n    scrollableAncestor: \"window\",\n    show: show,\n    step: step\n  }, function (datum, index, rowRef) {\n    var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n    var isSelected = selected && selected.includes(primaryValue);\n    var isRowExpanded = rowExpand && rowExpand.includes(index);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: primaryValue || index,\n      rowRef: rowRef,\n      primaryValue: primaryValue,\n      isSelected: isSelected,\n      isRowExpanded: isRowExpanded,\n      index: index,\n      size: size,\n      active: active >= 0 ? active === index : undefined,\n      onClickRow: onClickRow,\n      datum: datum,\n      setActive: setActive,\n      selected: selected,\n      onSelect: onSelect,\n      background: background,\n      rowDetails: rowDetails,\n      setRowExpand: setRowExpand,\n      rowExpand: rowExpand,\n      columns: columns,\n      pinnedBackground: pinnedBackground,\n      border: border,\n      pad: pad,\n      primaryProperty: primaryProperty,\n      rowProps: rowProps,\n      data: data\n    });\n  })));\n});\nexport { Body };"]},"metadata":{},"sourceType":"module"}