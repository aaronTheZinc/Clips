{"ast":null,"code":"import React, { useContext } from 'react';\nimport app from \"firebase/app\";\nimport \"firebase/auth\";\nimport { registerUser } from '../Backend/api';\nimport { appState } from './Context';\nimport Cookies from './cookies';\nimport { useHistory } from 'react-router-dom';\nconst config = {\n  apiKey: \"AIzaSyCCe3EZBhYzzDDjVhYp2DWULin4ItgIjKA\",\n  authDomain: \"clips-e8ad8.firebaseapp.com\",\n  projectId: \"clips-e8ad8\",\n  storageBucket: \"clips-e8ad8.appspot.com\",\n  messagingSenderId: \"38161657877\",\n  appId: \"1:38161657877:web:30befe0a6d2ef3e4139e1c\",\n  measurementId: \"G-P0Y59FWJ03\"\n};\napp.initializeApp(config);\nconst auth = app.auth();\nexport const fb_auth = auth;\nexport const doCreateUserWithEmailAndPassword = ({\n  email,\n  password,\n  username\n}) => {\n  const user = auth.createUserWithEmailAndPassword(email, password);\n  console.log(auth.currentUser.uid);\n  registerUser({\n    data: {\n      email: email,\n      username: username,\n      uid: auth.currentUser.uid\n    }\n  });\n};\nexport const doSignInWithEmailAndPassword = (email, password) => auth.signInWithEmailAndPassword(email, password);\nexport const doSignOut = () => {\n  try {\n    var _s = $RefreshSig$();\n\n    Cookies.cookies.clear();\n    auth.signOut().then(_s(() => {\n      _s();\n\n      const history = useHistory();\n      useHistory.push('/');\n    }, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n      return [useHistory];\n    }));\n  } catch (e) {\n    alert(e);\n  }\n};\nexport const doPasswordReset = email => auth.sendPasswordResetEmail(email);\nexport const doPasswordUpdate = password => auth.currentUser.updatePassword(password);","map":{"version":3,"sources":["C:/Users/aaron/Documents/Clips/Clips/reactapp/src/Components/State/firebase.js"],"names":["React","useContext","app","registerUser","appState","Cookies","useHistory","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","auth","fb_auth","doCreateUserWithEmailAndPassword","email","password","username","user","createUserWithEmailAndPassword","console","log","currentUser","uid","data","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","cookies","clear","signOut","then","history","push","e","alert","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","updatePassword"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAO,eAAP;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AACA,SAAQC,QAAR,QAAuB,WAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,MAAMC,MAAM,GAAG;AACbC,EAAAA,MAAM,EAAE,yCADK;AAEbC,EAAAA,UAAU,EAAE,6BAFC;AAGbC,EAAAA,SAAS,EAAE,aAHE;AAIbC,EAAAA,aAAa,EAAE,yBAJF;AAKbC,EAAAA,iBAAiB,EAAE,aALN;AAMbC,EAAAA,KAAK,EAAE,0CANM;AAObC,EAAAA,aAAa,EAAE;AAPF,CAAf;AAUAZ,GAAG,CAACa,aAAJ,CAAkBR,MAAlB;AAEA,MAAMS,IAAI,GAAGd,GAAG,CAACc,IAAJ,EAAb;AACA,OAAO,MAAMC,OAAO,GAAGD,IAAhB;AACN,OAAO,MAAME,gCAAgC,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,QAAR;AAAkBC,EAAAA;AAAlB,CAAD,KAAiC;AAC9E,QAAMC,IAAI,GAAGN,IAAI,CAACO,8BAAL,CAAoCJ,KAApC,EAA2CC,QAA3C,CAAb;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYT,IAAI,CAACU,WAAL,CAAiBC,GAA7B;AACAxB,EAAAA,YAAY,CAAC;AACXyB,IAAAA,IAAI,EAAE;AAACT,MAAAA,KAAK,EAAEA,KAAR;AAAeE,MAAAA,QAAQ,EAAEA,QAAzB;AAAmCM,MAAAA,GAAG,EAAEX,IAAI,CAACU,WAAL,CAAiBC;AAAzD;AADK,GAAD,CAAZ;AAMF,CATM;AAYJ,OAAO,MAAME,4BAA4B,GAAG,CAACV,KAAD,EAAQC,QAAR,KAC5CJ,IAAI,CAACc,0BAAL,CAAgCX,KAAhC,EAAuCC,QAAvC,CADO;AAGP,OAAO,MAAOW,SAAS,GAAG,MAAM;AAC9B,MAAI;AAAA;;AACF1B,IAAAA,OAAO,CAAC2B,OAAR,CAAgBC,KAAhB;AACAjB,IAAAA,IAAI,CAACkB,OAAL,GAAeC,IAAf,IAAoB,MAAK;AAAA;;AACvB,YAAMC,OAAO,GAAG9B,UAAU,EAA1B;AACEA,MAAAA,UAAU,CAAC+B,IAAX,CAAgB,GAAhB;AACH,KAHD;AAAA,cACkB/B,UADlB;AAAA;AAID,GAND,CAMC,OAAOgC,CAAP,EAAU;AACTC,IAAAA,KAAK,CAACD,CAAD,CAAL;AACD;AACF,CAVM;AAYP,OAAO,MAAOE,eAAe,GAAIrB,KAAD,IAAWH,IAAI,CAACyB,sBAAL,CAA4BtB,KAA5B,CAApC;AAEP,OAAO,MAAOuB,gBAAgB,GAAItB,QAAD,IACjCJ,IAAI,CAACU,WAAL,CAAiBiB,cAAjB,CAAgCvB,QAAhC,CADO","sourcesContent":["import React, { useContext } from 'react'\r\nimport app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport {registerUser} from '../Backend/api'\r\nimport {appState} from './Context'\r\nimport Cookies from './cookies'\r\nimport {useHistory} from 'react-router-dom'\r\nconst config = {\r\n  apiKey: \"AIzaSyCCe3EZBhYzzDDjVhYp2DWULin4ItgIjKA\",\r\n  authDomain: \"clips-e8ad8.firebaseapp.com\",\r\n  projectId: \"clips-e8ad8\",\r\n  storageBucket: \"clips-e8ad8.appspot.com\",\r\n  messagingSenderId: \"38161657877\",\r\n  appId: \"1:38161657877:web:30befe0a6d2ef3e4139e1c\",\r\n  measurementId: \"G-P0Y59FWJ03\",\r\n};\r\n\r\napp.initializeApp(config);\r\n\r\nconst auth = app.auth();\r\nexport const fb_auth = auth\r\n export const doCreateUserWithEmailAndPassword = ({email, password, username}) => {\r\n    const user = auth.createUserWithEmailAndPassword(email, password);\r\n    console.log(auth.currentUser.uid)\r\n    registerUser({\r\n      data: {email: email, username: username, uid: auth.currentUser.uid },\r\n      \r\n    })\r\n    \r\n\r\n }\r\n \r\n\r\n    export const doSignInWithEmailAndPassword = (email, password) =>\r\n    auth.signInWithEmailAndPassword(email, password);\r\n\r\n    export const  doSignOut = () => {\r\n      try {\r\n        Cookies.cookies.clear();\r\n        auth.signOut().then(()=> {\r\n          const history = useHistory();\r\n            useHistory.push('/')\r\n        })\r\n      }catch (e) {\r\n        alert(e)\r\n      }\r\n    }\r\n\r\n    export const  doPasswordReset = (email) => auth.sendPasswordResetEmail(email);\r\n\r\n    export const  doPasswordUpdate = (password) =>\r\n    auth.currentUser.updatePassword(password);\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}